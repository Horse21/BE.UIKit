<div class="c-h21-header">
	<mat-toolbar class="c-h21-header_toolbar">
		<a class="c-h21-header_logo" href="./" *ngIf="logotypeUrl">
			<img src="{{logotypeUrl}}" alt="{{title}}" />
		</a>
		<a mat-button class="c-h21-header_title" href="./" *ngIf="title">{{title}}</a>
		<div class="w-spacer">&nbsp;</div>
		<mat-form-field class="c-h21-header_search-field" *ngIf="showSearch">
			<mat-icon matPrefix>search</mat-icon>
			<input matInput />
			<button mat-icon-button matSuffix (click)="openSearchSettingsDialog()">
				<mat-icon>tune</mat-icon>
			</button>
		</mat-form-field>
		<nav>
			<button mat-icon-button *ngIf="showNotifications"> <!--<button mat-icon-button matBadge="8" [matMenuTriggerFor]="notificationMenu" *ngIf="showNotifications">-->
				<mat-icon>notifications</mat-icon>
			</button>
			<button mat-icon-button [matMenuTriggerFor]="servicesMenu" *ngIf="showServicesMenuBtn">
				<mat-icon>apps</mat-icon>
			</button>
			<button mat-icon-button (click)="openDialog();" *ngIf="isPrototype && !username">
				<mat-icon aria-label="'Select user'">person_outline</mat-icon>
			</button>
			<button *ngIf="!!username" mat-button [matMenuTriggerFor]="userCardMenu">
				<mat-icon>person</mat-icon>
				<span>{{username}}</span>
			</button>
		</nav>
	</mat-toolbar>
</div>

<!-- Notification menu -->
<mat-menu #notificationMenu="matMenu" yPosition="below" [overlapTrigger]="false">
	<ng-template matMenuContent>
		<button mat-menu-item *ngFor="let n of notifyList">
			<span>{{n.text}}</span>
		</button>
	</ng-template>
</mat-menu>

<!-- Projects menu -->
<mat-menu #servicesMenu="matMenu" yPosition="below" [overlapTrigger]="false">
	<ng-template matMenuContent>
		<button mat-menu-item>
			<mat-icon>work</mat-icon>
			<span>First project</span>
		</button>
		<button mat-menu-item>
			<mat-icon>watch_later</mat-icon>
			<span>Second project</span>
		</button>
		<button mat-menu-item>
			<mat-icon>videocam</mat-icon>
			<span>The third project</span>
		</button>
		<button mat-menu-item>
			<mat-icon>flag</mat-icon>
			<span>Fourth, last project</span>
		</button>
	</ng-template>
</mat-menu>

<!-- User card menu -->
<mat-menu #userCardMenu="matMenu" yPosition="below" [overlapTrigger]="false" class="c-h21-header-user-card-box">
	<ng-template matMenuContent>
		<h21-user-card [userName]="username" [userEmail]="userEmail" [userAvatarUrl]="userAvatarUrl" (onLogout)="logout();"></h21-user-card>
	</ng-template>
</mat-menu>

